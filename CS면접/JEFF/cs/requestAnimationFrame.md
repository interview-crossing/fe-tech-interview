# rAF (requestAnimationFrame)

> 웹 애니메이션을 효율적이고 부드럽게 구현하기 위해 사용하는 WebAPI의 비동기 함수

설정한 애니메이션이 시작한 이후, 모든 리랜더링이 발생할 때마다 애니메이션이 업데이트된다. (정확히 브라우저의 랜더링 프로세스 중, repaint 직전에 애니메이션의 업데이트 내용을 반영한다.)

<br/>
<br/>

## 매개변수

rAF 에 입력으로 애니메이션 로직이 포함된 콜백함수를 받는다.
브라우저의 랜더링 주기에 맞춰, 콜백함수를 실행한다.

<br/>
<br/>

## `rAF` vs `setInterval`, `setTimeout`

`rAF` 는 브라우저 리프레시(주로 60fps)에 맞춰 콜백함수를 실행한다. -> 브라우저의 리페인트 주기와 동기화. 

브라우저가 화면을 그리기 직전에 애니메이션을 업데이트하므로, 부드럽고 깜빡임 없는 애니메이션을 구현할 수 있다.

<br/>

`setInterval` 혹은 `setTimeout` 의 경우, 브라우저의 리페인트 주기에 맞춰 애니메이션을 반영해주지 않을 가능성이 높다. 개발자가 미리 설정해놓은 주기에 따를 뿐이다. ( 프레임 드랍이 발생하여, 애니메이션의 자연스럽지 못하고 끊기는 현상이 발생한다. )  

**만약 개발자가 타이머 함수의 주기를 매우 짧게 설정한다면 ? ( ex) 1ms, 0.1ms... )**
애니메이션의 동작이 자연스러울 수는 있지만, 브라우저 랜더링 주기보다 훨씬 자주 콜백을 실행하기 때문에 성능적으로 좋지 못하다.